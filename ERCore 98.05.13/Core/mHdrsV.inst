// This install script is only used in the project mHdrsV// for creating a patcher to upgrade the mail text viewDefconstant kPartName := "EnRoute MailView";OpenResFile( Home & "resources"); 	DefConst ( 'kLibIcon, GetPICTAsBits ( "AddonIcon", true ) );CloseResFile();SetPartFrameSlot ( 'text, kPartName ); // give extras icon a better nameSetPartFrameSlot ( 'icon, kLibIcon );DefConst ( 'k_OldVDefGlobSym, '|oldMailTextVDef:EnRoute| );InstallScript := func ( partFrame, removeFrame )	begin	//if call kViewIsOpenFunc with (GetRoot().ioBox) then	//	GetRoot().ioBox:Close();	// check whether we have to patch over an old one	local oldVDef := GetDefs ( 'viewDef, [ 'enRouteMailText ], ['editor] );	if Length(oldVDef) > 0 then		oldVDef := LFetch ( oldVDef,'enRouteMailTextView,0,'|=|,'symbol );	if oldVDef then		begin		DefGlobalVar (EnsureInternal(k_OldVDefGlobSym), oldVDef );		try UnregisterViewDef ( kERMailTxtView, kERMailTxtSym );	// 'enRouteMailTextView		onexception |evt.ex| do nil;		end;	// install ourself	local mailTxtSym := EnsureInternal ( kERMailTxtSym );	RegisterViewDef ( GetLayout ( "Cvd_mHdrsVDef" ), mailTxtSym );	// kERMailTxtView	end;RemoveScript := func ( removeFrame )	begin	// remove ourselves	UnregisterViewDef ( kERMailTxtView, kERMailTxtSym );	// 'enRouteMailTextView	// check whether we are a patch over an old one	local oldVDef := GetGlobalVar ( k_OldVDefGlobSym );	if oldVDef and IsValid(oldVDef) then		begin		RegisterViewDef ( oldVDef, EnsureInternal ( kERMailTxtSym ) );		UndefGlobalVar ( k_OldVDefGlobSym );		end;	end;