/*****************************************************************\	PUBLIC interface to the EnRoute Core Unit	UR ( 'ERCore, 'xxxxx )\*****************************************************************/constant kERCoreUnit := '|EnRoute:Core:Netstrategy|;DeclareUnit ( kERCoreUnit, 1, 0,	{	protoERTransport:		0,	// protoTransport	protoERService:			1,	// protoBasicEndpoint	protoTypedAddrPkr:		2,	// protoAddressPicker	protoTypedOneAddrPkr:	3,	// protoAddressPicker	s1: 4, s2: 5,  s3: 6,  s4: 7,  s5: 8,	s6: 9, s7: 10, s8: 11,	s9:						12,	// WAS: PerformConnect:			12,	// transport:PerformConnect	DlgStatMsgsProto:		13,	// transport.dialogStatusMsgs	// for creating transport preferences	StandardERPrefsView:	14,	// prebuilt	// roll your own preferences view	protoERTransportPrefs:	15,		// for "_proto" (protoTransportPrefs)	protoInfoPrefsFrame:	16,		// for "infoPrefs"	protoInBoxPrefsFrame:	17,		// for "inboxPrefs"	protoOutBoxPrefsFrame:	18,		// for "outboxPrefs"	protoSendPrefsFrame:	19,		// for "sendPrefs"	protoAutoDelivBtn:		20,		// protoTextButton	protoModemSetBtn:		21,		// protoPopupButton	protoSlinkPrefBtn:		22,		// protoPopupButton	About:					23,	AboutBeta:				24,	AboutDetail:			25,	AboutDetailBeta:		26,	s21: 27, s22: 28, s23: 29, s24: 30,	Standard7BitASCIITbl:	31,		// " !\u0022\u#$%&'()*+,-./012345...	StrMungeCRLF:			32,		// func ( uniTxt ) - appends <CR> <LF> to txt	SMungeAppend:			33,		// func ( destUniTxt, appendUniTxt )	UnwrappedLine:			34,		// func ( uniTxt, startPos ) -- returns new uniStr	Ensure2TailCRs:			35,		// func ( uniTxt ) - appends <CR> <CR> to txt	StripHeadCRs:			36,		// func ( uniTxt ) - removes <CR>s at start	StripTailCRs:			37,		// func ( uniTxt ) - removes <CR>s at end	RegEMailSystemFunc:		38,	DumpHexObjFunc:			39,	PullStrFromBinFunc:		40,	AppendCStringFunc:		41,	StandardBin_CalcCRC:	42,	StandardBin_CheckSum:	43,	DataClassOfFunc:		44,	GetTargetFromEntryFunc:	45,	SortByClassFunc:		46,	TorontoMungePhoneFunc:	47,	} );AliasUnit ( 'ERCore, kERCoreUnit );DefConst ( 'kHasERCoreFunc, func()	begin	local missing := call kMissingImportsFunc with ( ObjectPkgRef ( '{} ) );	if missing then		missing := LSearch(missing,"EnRoute:Core:Netstrategy",0,'|Str=|,'name);	not missing;	end );DefConst ( 'kCanBeInstalledFunc, func(partFrame)	begin	local missing := call kMissingImportsFunc with ( ObjectPkgRef ( '{} ) );	if missing then		missing := LSearch(missing,"EnRoute:Core:Netstrategy",0,'|Str=|,'name);	not missing;	end );if not kAppSymbol = kERCoreUnit then	begin	SetPartFrameSlot ( 'RemovalApproval, func ( unitName, major, minor )		begin		// warn user that we can't work without the EnRoute Core		if unitName = kERCoreUnit then			ParamStr ( LocObj (				"^0 will be disabled if it is missing.\n", 'errors.willDisable ),				[ ParamStr ( "\u0022\u^0\u0022\u", [ kAppName] ) ] );		else			nil;		end );	// LRT - 97/09/23 5:05 AM	// No longer using ImportDisabled function so that restore	// of EnRoute Core from backup will not cause a reset	/******************************************************************	SetPartFrameSlot ( 'ImportDisabled, func ( unitName, major, minor )		begin		// when the EnRoute Core is gone, anyone who uses it should close up shop		GetRoot().(kAppSymbol):?CoreRemoved();		end);	*********************************************/	end;